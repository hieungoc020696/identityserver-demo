services:
  api:
    build:
      context: D:\Projects\IdentityServerDemo
      dockerfile: Api/Dockerfile
    environment:
      ASPNETCORE_ENVIRONMENT: Development
    image: docker.debugger.vn/api
    networks:
      default: {}
    ports:
    - published: 5000
      target: 80
  identity-api:
    build:
      context: D:\Projects\IdentityServerDemo
      dockerfile: IdentityServerDemo/Dockerfile
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      Logging__LogLevel__Default: Warning
      Standalone: "true"
    image: docker.debugger.vn/identity-api
    networks:
      default: {}
    ports:
    - published: 5001
      target: 80
    volumes:
    - /tmp/aspnet-keyring:/var/keyring:rw
    - D:\Projects\IdentityServerDemo\.vscode\vsdbg:/vsdbg:rw
  postgresql-data:
    environment:
      POSTGRES_PASSWORD: DigiMed123
    image: postgres:10
    networks:
      default: {}
    ports:
    - published: 5442
      target: 5432
    volumes:
    - postgres-data:/var/lib/postgresql/data:rw
version: '3.4'
volumes:
  postgres-data:
    external: true
    name: postgres-data